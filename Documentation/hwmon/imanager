Kernel driver imanager_hwmon
============================

This platform driver provides support for iManager Hardware Monitoring
and FAN control.

This driver depends on imanager (mfd).

Description
-----------

This driver provides support for the Advantech iManager Hardware Monitoring EC.

The Advantech iManager supports up to 3 fan rotation speed sensors,
3 temperature monitoring sources and up to 5 voltage sensors, VID, alarms and
a automatic fan regulation strategy (as well as manual fan control mode).

Temperatures are measured in degrees Celsius and measurement resolution is
1 degC. An Alarm is triggered when the temperature gets higher than the high
limit; it stays on until the temperature falls below the high limit.

Fan rotation speeds are reported in RPM (rotations per minute). An alarm is
triggered if the rotation speed has dropped below a programmable limit. No fan
speed divider support available.

Voltage sensors (also known as IN sensors) report their values in millivolts.
An alarm is triggered if the voltage has crossed a programmable minimum
or maximum limit.

The driver supports automatic fan control mode known as Thermal Cruise.
In this mode, the firmware attempts to keep the measured temperature in a
predefined temperature range. If the temperature goes out of range, fan
is driven slower/faster to reach the predefined range again.

The mode works for fan1-fan3.

sysfs attributes
----------------

pwm[1-3] - this file stores PWM duty cycle or DC value (fan speed) in range:
	   0 (lowest speed) to 255 (full)

pwm[1-3]_enable - this file controls mode of fan/temperature control:
	* 0 Fan control disabled (fans set to maximum speed)
	* 1 Manual mode, write to pwm[1-3] any value 0-255
	* 2 "Fan Speed Cruise" mode

pwm[1-3]_mode - controls if output is PWM or DC level
        * 0 DC output
        * 1 PWM output

Speed Cruise mode (2)
---------------------

This mode tries to keep the fan speed constant within min/max speed.

fan[1-3]_min - Minimum fan speed
fan[1-3]_max - Maximum fan speed

